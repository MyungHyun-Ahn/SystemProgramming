# Story02 - 광섬유를 이용한 액세스 회선 (FTTH)
## 1. 광섬유의 기본
FTTH
* 광섬유 회선

광섬유
* 이중 구조의 가는 섬유질의 투명한 재질 (유리나 플라스틱)
* 코어 부분 속에 광신호를 흘려서 디지털 데이터를 전달
* 등이 켜진 상태 1, 꺼진 상태 0

디지털 데이터에서 갑자기 광신호로 만들 수 없다.
* 디지털 데이터를 전기 신호로 변환한 후 광신호로 변환
* 여기서 사용하는 전기 신호는 1을 높은 전압 0을 낮은 전압
* 이 전기 신호를 LED나 포토 다이오드 같은 광원에 입력하면 전압에 따라 빛을 발함

수신측
* 빛에 감응하여 밝기에 따라 전압을 일으키는 수광 소자가 있다.
* 밝으면 높은 전압, 어두우면 낮은 전압의 전기 신호를 낸다.
* 이것을 다시 디지털 데이터로 변환하여 데이터를 수신

## 2. 싱글모드와 멀티모드의 차이
빛의 전달 방법에 영향을 미치는 요소
* 광섬유의 재질에 따른 빛의 투과율이나 굴절률의 차이
* 코어의 직경 - 코어의 굵기가 가장 큰 영향을 끼침

광섬유 내에서 빛이 진행하는 모습
* 광원에서 나온 빛은 흩어지므로 코어 부분에는 여러 각도의 빛이 들어감
* 들어오는 각도(입사각)가 큰 것은 코어와 클래드(코어의 주변부)의 경계면에서 굴절되어 밖으로 나가버림
* 입사각이 작은 빛만이 경계면에서 전반사되어 코어 속을 진행

입사각이 작은 빛이 전부 코어 속을 진행하는 것은 아님
* 코어와 클래드의 경계면에서 반사할 때 위상차가 생긴다는 성질이 있다.
* 경계면에서 반사되어 돌아온 빛이 위상차가 생기는 경우와 않는 경우로 나윔
  * 생기는 경우 : 빛이 서로 상쇄되어 소멸
  * 생기지 않는 경우 : 광섬유 속을 진행

코어의 직경의 종류
* 싱글모드(가늘다)
  * 위상이 같은 각도 중에서 가장 작은 빛만 들어간다.
  * 빛의 양이 적어짐 - 광원이나 수광 소자의 성능이 높아져야 함
  * 대신 신호의 변형이 적다는 장점
* 멀티모드(굵다)
  * 작은 것 중 복수의 코어 속을 진행
  * 첫 번째로 작은 것, 두 번쨰로 작은 것,,,

신호의 변형은 빛이 코어를 지나갈 때 반사되는 횟수와 관계가 있다.
* 멀티모드
  * 반사각이 다른 몇 개의 빛이 코어 속을 진행
  * 반사각이 큰 쪽이 반사 횟수가 더 많다.
  * 빛이 도착하는 시간에 영향을 준다
    * 신호가 변경됨을 의미
    * 빛의 변형이 허용 한도를 초과하면 통신 오류를 일으킨다.
* 싱글 모드
  * 신호의 변형이 없다.

주로 사용하는 곳
* 멀티모드 : 한 건물 내의 짧은 거리
* 싱글모드 : 멀리 떨어진 장소 - 건물 사이

## 3. 광섬유를 분기시켜서 비용을 절감한다
FTTH 액세스 회선
* ADSL 대신 광섬유를 사용하여 BAS를 접속하는 것

두 가지 형태로 나눌 수 있다.
* 한 개의 광섬유로 사용자측과 가장 가까운 전화국측을 접속하는 유형
* 사용자 부근의 전주에 광스플리터라는 분기 장치를 설치하고, 광섬유를 분기시켜서 복수의 사용자를 연결하는 유형

### 한 개의 광섬유로 사용자측과 가장 가까운 전화국측을 접속
패킷은 다음과 같이 흘러감
1. 사용자 측에 설치된 미디어 컨버터라는 장치에서 이더넷의 전기 신호를 광신호로 변환
    * 그냥 전기 신호를 광신호로 변경하기만 함
2. 미디어 컨버터와 연결된 광섬유 속으로 들어감
3. BAS 앞에 있는 집합형의 미디어 컨버터에 연결된 광섬유 속으로 들어감
    * FTTH는 싱글모드의 광섬유를 사용하므로 특정 각도로 반사하며 흘러감
4. 집합형 미디어 컨버터에서 전기 신호로 복원되어 BAS 포트가 수신
5. 인터넷의 내부로 패킷을 중계

패킷이 전달되면 동일한 방식으로 응답 패킷이 돌아옴

파장 다중
* 하향 신호와 상향 신호가 혼합
* 프리즘의 원리로 분리할 수 있다. - 섞여도 된다
* 한 개의 광섬유를 사용하여 파장이 서로 다른 복수의 광신호를 흘리는 것

### 사용자 부근의 전주에 광스플리터라는 분기 장치를 설치, 광섬유를 분기시켜 복수의 사용자를 연결하는 유형
미디어 컨버터 대신 ONU라는 장치를 사용자 측에 설치
* 이더넷 신호를 광신호로 변환
* BAS의 바로 앞에 있는 OLT라는 장치로 흘러가는 형태

복수의 사용자가 동시에 패킷 송신 동작을 실행
* 광스플리터 부분에서 패킷의 광신호가 충돌
* 따라서 OLT와 ONU에는 패킷 충돌 방지를 위해 타이밍을 조정하는 기능이 있다.

타이밍 조정 기능
* OLT가 송신의 타이밍을 조정하여 ONU에 송신 지시를 내림
* 그 지시에 따라 ONU가 송신 동작을 실행하는 형태로 작동
* BAS 측에서 사용자측으로 신호를 보낼 때는 분기 장치에 신호가 뿌려질 뿐
  * 충돌이 없다.
* 그대로 사용자측에 흘러가면 정보가 누설될 가능성이 있음
  * 패킷의 맨 앞부분에 각각의 ONU를 식별하는 정보를 부가
  * ONU는 흘러온 신호가 자신에게 오는 경우에만 광신호를 수신

PPPoE는 ADSL과 비슷